(function(e,t,i){var r=Array.prototype.indexOf;var n=Object.assign;var a=/MicroMessenger/i.test(navigator.userAgent);var o=t.documentElement.clientWidth<=768;var s=(t.images[0]||0).src||"";var c=E("site")||E("Site")||t.title;var l=E("title")||E("Title")||t.title;var u=E("description")||E("Description")||"";var f={url:location.href,origin:location.origin,source:c,title:l,description:u,image:s,imageSelector:i,weiboKey:"",wechatQrcodeTitle:"微信扫一扫：分享",wechatQrcodeHelper:"<p>微信里点“发现”，扫一下</p><p>二维码便可将本文分享至朋友圈。</p>",wechatQrcodeSize:100,sites:["weibo","qq","wechat","douban","qzone","linkedin","facebook","twitter","google"],mobileSites:[],disabled:[],initialized:false};var d={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{URL}}&title={{TITLE}}&desc={{DESCRIPTION}}&summary={{SUMMARY}}&site={{SOURCE}}&pics={{IMAGE}}",qq:'http://connect.qq.com/widget/shareqq/index.html?url={{URL}}&title={{TITLE}}&source={{SOURCE}}&desc={{DESCRIPTION}}&pics={{IMAGE}}&summary="{{SUMMARY}}"',weibo:"https://service.weibo.com/share/share.php?url={{URL}}&title={{TITLE}}&pic={{IMAGE}}&appkey={{WEIBOKEY}}",wechat:"javascript:",douban:"http://shuo.douban.com/!service/share?href={{URL}}&name={{TITLE}}&text={{DESCRIPTION}}&image={{IMAGE}}&starid=0&aid=0&style=11",linkedin:"http://www.linkedin.com/shareArticle?mini=true&ro=true&title={{TITLE}}&url={{URL}}&summary={{SUMMARY}}&source={{SOURCE}}&armin=armin",facebook:"https://www.facebook.com/sharer/sharer.php?u={{URL}}",twitter:"https://twitter.com/intent/tweet?text={{TITLE}}&url={{URL}}&via={{ORIGIN}}",google:"https://plus.google.com/share?url={{URL}}"};e.socialShare=function(e,t){e=typeof e==="string"?w(e):e;if(e.length===i){e=[e]}q(e,function(e){if(!e.initialized){h(e,t)}})};O(function(){socialShare(".social-share, .share-component")});function h(e,t){var i=L({},f,t||{},R(e));if(i.imageSelector){i.image=w(i.imageSelector).map(function(e){return e.src}).join("||")}y(e,"share-component social-share");p(e,i);m(e,i);e.initialized=true}function p(e,t){var i=v(t);var r=t.mode=="prepend";q(r?i.reverse():i,function(i){var n=g(i,t);var a=t.initialized?b(e,"icon-"+i):I('<a class="social-share-icon icon-'+i+'"></a>');if(!a.length){return true}a[0].href=n;if(i==="wechat"){a[0].tabindex=-1}else{a[0].target="_blank"}if(!t.initialized){r?e.insertBefore(a[0],e.firstChild):e.appendChild(a[0])}})}function m(e,t){var i=b(e,"icon-wechat","a");if(i.length===0){return false}var r=I('<div class="wechat-qrcode"><h4>'+t.wechatQrcodeTitle+'</h4><div class="qrcode"></div><div class="help">'+t.wechatQrcodeHelper+"</div></div>");var n=b(r[0],"qrcode","div");new QRCode(n[0],{text:t.url,width:t.wechatQrcodeSize,height:t.wechatQrcodeSize});i[0].appendChild(r[0])}function v(e){if(!e["mobileSites"].length){e["mobileSites"]=e["sites"]}var t=(o?e["mobileSites"]:e["sites"]).slice(0);var i=e["disabled"];if(typeof t=="string"){t=t.split(/\s*,\s*/)}if(typeof i=="string"){i=i.split(/\s*,\s*/)}if(a){i.push("wechat")}i.length&&q(i,function(e){t.splice(T(e,t),1)});return t}function g(e,t){if(!t["summary"]){t["summary"]=t["description"]}return d[e].replace(/\{\{(\w)(\w*)\}\}/g,function(r,n,a){var o=e+n+a.toLowerCase();a=(n+a).toLowerCase();return encodeURIComponent((t[o]===i?t[a]:t[o])||"")})}function w(i){return(t.querySelectorAll||e.jQuery||e.Zepto||S).call(t,i)}function S(e){var i=[];q(e.split(/\s*,\s*/),function(r){var n=r.match(/([#.])(\w+)/);if(n===null){throw Error("Supports only simple single #ID or .CLASS selector.")}if(n[1]){var a=t.getElementById(n[2]);if(a){i.push(a)}}i=i.concat(b(e))});return i}function y(e,t){if(t&&typeof t==="string"){var i=(e.className+" "+t).split(/\s+/);var r=" ";q(i,function(e){if(r.indexOf(" "+e+" ")<0){r+=e+" "}});e.className=r.slice(1,-1)}}function E(e){return(t.getElementsByName(e)[0]||0).content}function b(e,t,i){if(e.getElementsByClassName){return e.getElementsByClassName(t)}var r=[];var n=e.getElementsByTagName(i||"*");t=" "+t+" ";q(n,function(e){if((" "+(e.className||"")+" ").indexOf(t)>=0){r.push(e)}});return r}function I(e){var i=t.createElement("div");i.innerHTML=e;return i.childNodes}function L(){var e=arguments;if(n){return n.apply(null,e)}var t={};q(e,function(e){q(e,function(e,i){t[i]=e})});return e[0]=t}function R(e){if(e.dataset){return JSON.parse(JSON.stringify(e.dataset))}var t={};if(e.hasAttributes()){q(e.attributes,function(e){var i=e.name;if(i.indexOf("data-")!==0){return true}i=i.replace(/^data-/i,"").replace(/-(\w)/g,function(e,t){return t.toUpperCase()});t[i]=e.value});return t}return{}}function T(e,t,i){var n;if(t){if(r){return r.call(t,e,i)}n=t.length;i=i?i<0?Math.max(0,n+i):i:0;for(;i<n;i++){if(i in t&&t[i]===e){return i}}}return-1}function q(e,t){var r=e.length;if(r===i){for(var n in e){if(e.hasOwnProperty(n)){if(t.call(e[n],e[n],n)===false){break}}}}else{for(var a=0;a<r;a++){if(t.call(e[a],e[a],a)===false){break}}}}function O(i){var r="addEventListener";var n=t[r]?"":"on";~t.readyState.indexOf("m")?i():"load DOMContentLoaded readystatechange".replace(/\w+/g,function(a,o){(o?t:e)[n?"attachEvent":r](n+a,function(){if(i)if(o<6||~t.readyState.indexOf("m"))i(),i=0},!1)})}})(window,document);