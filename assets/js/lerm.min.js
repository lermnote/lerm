(function(){"use strict";let e=$("#archives");let t=$(".month-list",e);let a=$(".month-post-list",e);let n=$(".post-list",e);let o=$(".post-list:first",e);n.hide();o.show();t.first().show();a.css("cursor","s-resize").on("click",function(){$(this).next().slideToggle(400)});var l=function(e,t,a){if(e>n.length){return}if(t=="up"){n.eq(e).slideUp(a,function(){l(e+1,t,a-10<1?0:a-10)})}else{n.eq(e).slideDown(a,function(){l(e+1,t,a-10<1?0:a-10)})}};$("#al_expand_collapse").on("click",function(e){e.preventDefault();if($(this).data("s")){$(this).data("s","");l(0,"up",100)}else{$(this).data("s",1);l(0,"down",100)}});$(document).on("click",'[data-toggle="lightbox"]',function(e){e.preventDefault();return $(this).ekkoLightbox()})})($);document.addEventListener("DOMContentLoaded",function(e){let t=document.documentElement;let a=document.body;let n=document.querySelectorAll(".dropdown");if(n){n.forEach(e=>{e.onmouseover=(()=>e.querySelector(".dropdown-menu").classList.add("show"));e.onmouseout=(()=>e.querySelector(".dropdown-menu").classList.remove("show"))})}let o=a.querySelector(".menu-backdrop");if(!o){return}let l=document.body.clientWidth;let s=a.querySelector("#site-header");let i=document.querySelector("#navbar");let r=document.querySelector("#site-navigation");if(!r){return}let d=r.querySelector(".menu-toggle");if("undefined"===typeof d){return}let c=r.querySelector("ul");if(!c){d.style.display="none"}else{c.setAttribute("aria-expanded","false");let e=c.querySelectorAll("a");let n=c.getElementsByClassName("dropdown-menu");for(let e=0,t=n.length;e<t;e++){n[e].parentNode.setAttribute("aria-haspopup","true")}e.forEach(e=>{if(!e.classList.contains("dropdown-toggle"))e.onclick=function(){a.classList.remove("nav-opened");r.classList.remove("toggled");o.classList.remove("show");t.classList.remove("noscroll")}})}if(l<992){i.style.top=document.defaultView.getComputedStyle(t,null).marginTop}d.onclick=function(){if(-1!=r.className.indexOf("toggled")){r.classList.remove("toggled");a.classList.remove("nav-opened");d.setAttribute("aria-expanded","false");c.setAttribute("aria-expanded","false");o.classList.remove("show");t.classList.remove("noscroll")}else{a.classList.add("nav-opened");r.classList.add("toggled");d.setAttribute("aria-expanded","true");c.setAttribute("aria-expanded","true");o.classList.add("show");t.classList.add("noscroll")}};let u=false;o.addEventListener("touchmove",()=>{u=true});o.addEventListener("touchend",e=>{e.preventDefault();if(false===u){if(-1!==o.className.indexOf("show")){a.classList.remove("nav-opened");r.classList.remove("toggled");o.classList.remove("show");t.classList.remove("noscroll")}}});o.addEventListener("touchstart",function(){u=false});document.querySelectorAll("#wp-calendar tbody td a").forEach(e=>{e.classList.add("has-posts")});let m=new LazyLoad({elements_selector:".lazy",threshold:0});if(m){m.update()}if("undefined"!==typeof hljs){document.querySelectorAll("pre code").forEach(e=>{hljs.highlightBlock(e)})}let p=document.getElementById("scroll-up");p.addEventListener("click",e=>{e.preventDefault();animate({duration:700,timing:g,draw:e=>t.scrollTop=t.scrollTop*(1-e/7)})});window.addEventListener("scroll",f);function f(){pageYOffset>=500&&p.classList.add("show");pageYOffset<500&&p.classList.remove("show")}let h=e=>1-Math.sin(Math.acos(e>1?e=1:e));let y=e=>t=>1-e(1-t);let g=y(h);let v=document.querySelector(".more-posts");if(v){v.addEventListener("click",e=>{e.preventDefault();v.innerHTML=adminajax.loading;let t=v.dataset.page;let a=parseInt(t)+1;let n=new FormData;n.append("query",adminajax.posts);n.append("page",t);n.append("security",adminajax.nonce);n.append("action","lerm_load_more");fetch(adminajax.url,{method:"POST",body:n}).then(e=>e.text()).then(e=>{if(e.length){v.dataset.page=a;let t=parseToDOM(e);t.forEach(e=>{document.querySelector(".ajax-posts").appendChild(e);if(e.childNodes.length){e.classList.add("ajax-loading")}});return document.querySelectorAll(".ajax-loading")}v.innerHTML=adminajax.noposts;throw e}).then(e=>{Array.prototype.slice.call(e).forEach(e=>{fadeIn(e);e.classList.remove("ajax-loading")});v.innerHTML=adminajax.loadmore}).catch(e=>{v.setAttribute("disabled","true");v.setAttribute("aria-disabled","true")})})}let L=document.querySelector("#like-button");if(L){let e=L.dataset.id;let t=new FormData;t.append("action","lerm_post_like");t.append("postID",e);t.append("security",adminajax.nonce);L.addEventListener("click",e=>{e.preventDefault();if(!L.classList.contains("done")){fetch(adminajax.url,{method:"POST",body:t}).then(e=>e.json()).then(e=>{L.classList.add("done");L.disabled=true;document.querySelector(".count").innerHTML=parseInt(e)}).catch(e=>console.log(e.message))}})}let w=document.getElementById("commentform");if(w){w.insertAdjacentHTML("beforeend",'<div id="error" class="text-danger hide"> </div>');let e=w.querySelector("#error");e.style.overflow="hidden";e.style.display="none";let t={author:w.querySelector('[name="author"]').value,email:w.querySelector('[name="email"]').value,url:w.querySelector('[name="url"]').value,comment:w.querySelector('[name="comment"]').value};w.addEventListener("submit",a=>{a.preventDefault();e.style.display="none";e.style.height="auto";e.innerHTML=" ";if(!t.author){e.style.display="block"}if(!validateEmail(t.email)){e.style.display="block"}if(!t.comment){e.style.display="block"}let n=new URLSearchParams(new FormData(w));n.append("action","ajax_comment");n.append("security",adminajax.nonce);fetch(adminajax.url,{method:"POST",body:n}).then(e=>e.text()).then(t=>{let a=parseToDOM(t);if("STRONG"===a[0].nodeName||a[0].length>1){throw a}let n=document.getElementById("respond");e.style.display="none";if(n.parentNode.classList.contains("comment")){if(null!==n.nextElementSibling){a.forEach(e=>{n.nextElementSibling.appendChild(e)})}else{a.forEach(e=>{n.parentNode.appendChild(e)})}}if(document.querySelector(".comment-list")){a.forEach(e=>{document.querySelector(".comment-list").insertBefore(e,document.querySelector(".comment-list").firstChild)})}else{a.forEach(e=>{n.parentNode.appendChild(e)})}}).then(()=>w.querySelector("#comment").value="").catch(t=>{console.log(t);e.style.display="block";t.forEach(t=>e.appendChild(t));let a=e.offsetHeight;animate({duration:400,timing:g,draw:t=>{e.style.height=a*t+"px";w.querySelector('[type="submit"]').setAttribute("disabled","disabled")}});let n=setTimeout(function(){animate({duration:400,timing:g,draw:t=>{e.style.height=a-a*t+"px";w.querySelector('[type="submit"]').removeAttribute("disabled","disabled")}});clearTimeout(n)},5e3)})})}});function parseToDOM(e){let t=document.createElement("div");if(typeof e=="string")t.innerHTML=e;return Array.prototype.slice.call(t.childNodes)}const matches=function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)};function fadeIn(e){e.style.opacity=0;var t=+new Date;var a=function(){e.style.opacity=+e.style.opacity+(new Date-t)/400;t=+new Date;if(+e.style.opacity<1){window.requestAnimationFrame&&requestAnimationFrame(a)||setTimeout(a,16)}};a()}function validateEmail(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}function animate(e){let t=performance.now();requestAnimationFrame(function a(n){let o=(n-t)/e.duration;o>1&&(o=1);let l=e.timing(o);e.draw(l);o<1&&requestAnimationFrame(a)})}